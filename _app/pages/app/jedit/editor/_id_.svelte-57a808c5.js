import{S as V,i as $,s as B,C as j,e as _,k as H,aa as K,c as h,d as c,m as U,a as g,b as p,ab as O,H as E,g as b,z as Z,E as y,ac as x,O as D,M as A,v as F,ad as G,ae as Q,af as W,a9 as k,a4 as I,a5 as X,q as S,J as Y,o as N,Z as J,t as ee,h as te,j as ae,w as M,x as P,ag as q,y as R,B as z}from"../../../../chunks/index-1adf6e90.js";import{L as oe}from"../../../../chunks/Loader-13568200.js";import{b as L,d as v}from"../../../../chunks/index-4c96ced9.js";/* empty css                                                              */import{s as se}from"../../../../chunks/db-3cefa901.js";import{p as ne}from"../../../../chunks/stores-67c1f236.js";import{s as T}from"../../../../chunks/index-030725e0.js";import"../../../../chunks/index-022c0e8e.js";function re(l){let t,s,e,n,a=[l[1]],r={};for(let o=0;o<a.length;o+=1)r=j(r,a[o]);return{c(){t=_("link"),s=H(),e=_("section"),n=_("div"),this.h()},l(o){const i=K('[data-svelte="svelte-3tjbs9"]',document.head);t=h(i,"LINK",{rel:!0,href:!0}),i.forEach(c),s=U(o),e=h(o,"SECTION",{});var f=g(e);n=h(f,"DIV",{id:!0}),g(n).forEach(c),f.forEach(c),this.h()},h(){p(t,"rel","stylesheet"),p(t,"href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"),p(n,"id","json-editor-form"),O(e,r)},m(o,i){E(document.head,t),b(o,s,i),b(o,e,i),E(e,n),l[4](n)},p(o,[i]){O(e,r=Z(a,[i&2&&o[1]]))},i:y,o:y,d(o){c(t),o&&c(s),o&&c(e),l[4](null)}}}function le(l,t,s){const e=["options","initCreator"];let n=x(t,e),a;D(l,L,u=>s(7,a=u));const r=A();let o,i,{options:f={}}=t;const m=()=>{let u=i.getValue();k(L,a=u,a),console.log("Editor Change",u)},C=()=>{console.log("Creator is ready!"),r("loaded","Editor Loaded")},d=()=>{i&&i.destroy(),i=new JSONEditor(o,f),i.on("ready",C),i.on("change",m)};F(async()=>{f.schema&&d()}),G(()=>{i&&i.destroy()});function w(u){W[u?"unshift":"push"](()=>{o=u,s(0,o)})}return l.$$set=u=>{t=j(j({},t),Q(u)),s(1,n=x(t,e)),"options"in u&&s(2,f=u.options)},[o,n,f,d,w]}class ie extends V{constructor(t){super(),$(this,t,le,re,B,{options:2,initCreator:3})}get initCreator(){return this.$$.ctx[3]}}function ce(l){let t,s=JSON.stringify(l[9])+"",e;return{c(){t=_("pre"),e=ee(s)},l(n){t=h(n,"PRE",{});var a=g(t);e=te(a,s),a.forEach(c)},m(n,a){b(n,t,a),E(t,e)},p(n,a){a&1&&s!==(s=JSON.stringify(n[9])+"")&&ae(e,s)},i:y,o:y,d(n){n&&c(t)}}}function de(l){let t,s,e,n;return e=new ie({props:{options:l[2]}}),e.$on("loaded",l[3]),{c(){t=_("section"),s=_("div"),M(e.$$.fragment),this.h()},l(a){t=h(a,"SECTION",{class:!0});var r=g(t);s=h(r,"DIV",{class:!0});var o=g(s);P(e.$$.fragment,o),o.forEach(c),r.forEach(c),this.h()},h(){p(s,"class","py-2"),q(s,"opacity-0",!l[1]),p(t,"class","mx-auto px-4 bg-white flex flex-col py-4 space-y-0")},m(a,r){b(a,t,r),E(t,s),R(e,s,null),n=!0},p(a,r){const o={};r&4&&(o.options=a[2]),e.$set(o),r&2&&q(s,"opacity-0",!a[1])},i(a){n||(S(e.$$.fragment,a),n=!0)},o(a){N(e.$$.fragment,a),n=!1},d(a){a&&c(t),z(e)}}}function ue(l){let t,s;return t=new oe({}),{c(){M(t.$$.fragment)},l(e){P(t.$$.fragment,e)},m(e,n){R(t,e,n),s=!0},p:y,i(e){s||(S(t.$$.fragment,e),s=!0)},o(e){N(t.$$.fragment,e),s=!1},d(e){z(t,e)}}}function fe(l){let t,s,e,n,a={ctx:l,current:null,token:null,hasCatch:!0,pending:ue,then:de,catch:ce,value:8,error:9,blocks:[,,,]};return I(s=l[0],a),{c(){t=_("section"),a.block.c(),this.h()},l(r){t=h(r,"SECTION",{class:!0});var o=g(t);a.block.l(o),o.forEach(c),this.h()},h(){p(t,"class","h-full overflow-x-hidden overflow-y-scroll w-full")},m(r,o){b(r,t,o),a.block.m(t,a.anchor=null),a.mount=()=>t,a.anchor=null,n=!0},p(r,[o]){l=r,a.ctx=l,o&1&&s!==(s=l[0])&&I(s,a)||X(a,l,o)},i(r){n||(S(a.block),Y(()=>{e||(e=J(t,T,{duration:500},!0)),e.run(1)}),n=!0)},o(r){for(let o=0;o<3;o+=1){const i=a.blocks[o];N(i)}e||(e=J(t,T,{duration:500},!1)),e.run(0),n=!1},d(r){r&&c(t),a.block.d(),a.token=null,a=null,r&&e&&e.end()}}}function _e(l,t,s){let e,n;D(l,v,m=>s(2,e=m)),D(l,ne,m=>s(6,n=m));let a,r,o;return a=(async m=>{let C=se.from("json_editor").select("*").eq("id",n.params.id).single();r=null;try{let{data:d,error:w}=await C;if(d)r=d,k(v,e=d.option,e),k(v,e.schema=d.schema,e),k(v,e.startval=d.startval,e);else throw new Error(w,d)}catch(d){console.log("fetchDetail",d)}finally{}})(),[a,o,e,()=>{s(1,o=!0)}]}class Ee extends V{constructor(t){super(),$(this,t,_e,fe,B,{})}}export{Ee as default};
